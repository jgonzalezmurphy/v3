<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="VAULT">
    <meta name="theme-color" content="#020617">
    
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="icon.png">
    <link rel="icon" href="icon.png">
    
    <style>
        *{margin:0;padding:0;box-sizing:border-box}
        :root{--bg:#e6faff;--text:#000;--header:#000;--card-border:rgba(0,0,0,.3);--glass:rgba(15,23,42,.98);--notes-btn:#0369a1;--subtext:#475569}
        body.dark{--bg:#020617;--text:#cbd5e1;--header:#fff;--card-border:rgba(255,255,255,.1);--glass:rgba(0,0,0,.95);--notes-btn:#38bdf8;--subtext:#94a3b8}
        body.forest{--bg:#064e3b;--text:#d1fae5;--header:#fff;--card-border:rgba(16,185,129,.3);--glass:rgba(6,78,59,.95);--notes-btn:#10b981;--subtext:#86efac}
        body.sunset{--bg:#7c2d12;--text:#fed7aa;--header:#fff;--card-border:rgba(249,115,22,.3);--glass:rgba(124,45,18,.95);--notes-btn:#f97316;--subtext:#fdba74}
        body.purple{--bg:#581c87;--text:#e9d5ff;--header:#fff;--card-border:rgba(168,85,247,.3);--glass:rgba(88,28,135,.95);--notes-btn:#a855f7;--subtext:#d8b4fe}
        body.midnight{--bg:#0f172a;--text:#cbd5e1;--header:#fff;--card-border:rgba(100,116,139,.3);--glass:rgba(15,23,42,.95);--notes-btn:#64748b;--subtext:#94a3b8}
        body.rose{--bg:#4c0519;--text:#fecdd3;--header:#fff;--card-border:rgba(251,113,133,.3);--glass:rgba(76,5,25,.95);--notes-btn:#fb7185;--subtext:#fda4af}
        body.ocean{--bg:#164e63;--text:#cffafe;--header:#fff;--card-border:rgba(6,182,212,.3);--glass:rgba(22,78,99,.95);--notes-btn:#06b6d4;--subtext:#67e8f9}
        body{background-color:var(--bg)!important;color:var(--text);font-family:'Inter',-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;min-height:100vh;transition:background .3s;padding:1rem}
        .max-w-3xl{max-width:48rem;margin:0 auto}.pb-32{padding-bottom:8rem}.mb-6{margin-bottom:1.5rem}.mb-10{margin-bottom:2.5rem}.mt-6{margin-top:1.5rem}.mt-2{margin-top:.5rem}.mt-12{margin-top:3rem}.mb-2{margin-bottom:.5rem}.ml-4{margin-left:1rem}
        .flex{display:flex}.grid{display:grid}.grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}
        .gap-1{gap:.25rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}
        .justify-between{justify-content:space-between}.justify-center{justify-content:center}.items-center{align-items:center}.items-start{align-items:flex-start}.flex-1{flex:1 1 0%}.flex-col{flex-direction:column}
        .space-y-2>*+*{margin-top:.5rem}.space-y-8>*+*{margin-top:2rem}
        .w-full{width:100%}.w-11\/12{width:91.666667%}.w-7{width:1.75rem}.w-8{width:2rem}.w-16{width:4rem}.h-7{height:1.75rem}.h-8{height:2rem}
        .p-2{padding:.5rem}.p-3{padding:.75rem}.p-4{padding:1rem}.p-5{padding:1.25rem}.p-6{padding:1.5rem}.px-2{padding-left:.5rem;padding-right:.5rem}.py-1{padding-top:.25rem;padding-bottom:.25rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}
        .rounded{border-radius:.25rem}.rounded-xl{border-radius:.75rem}.rounded-2xl{border-radius:1rem}.rounded-3xl{border-radius:1.5rem}.rounded-full{border-radius:9999px}
        .border{border-width:1px}.border-b-4{border-bottom-width:4px}
        .text-xs{font-size:.75rem;line-height:1rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-4xl{font-size:2.25rem;line-height:2.5rem}
        .font-bold{font-weight:700}.font-black{font-weight:900}.uppercase{text-transform:uppercase}.italic{font-style:italic}.leading-none{line-height:1}.leading-tight{line-height:1.25}.text-center{text-align:center}
        .text-white{color:#fff}.bg-black{background-color:#000}.bg-slate-900{background-color:#0f172a}.bg-slate-800{background-color:#1e293b}.bg-blue-600{background-color:#2563eb}.bg-blue-900{background-color:#1e3a8a}.bg-purple-600{background-color:#9333ea}.bg-amber-600{background-color:#d97706}.bg-red-600{background-color:#dc2626}.bg-orange-600{background-color:#ea580c}
        .border-blue-800{border-color:#1e40af}.border-purple-800{border-color:#6b21a8}
        .shadow-lg{box-shadow:0 10px 15px -3px rgba(0,0,0,.1),0 4px 6px -2px rgba(0,0,0,.05)}.shadow-xl{box-shadow:0 20px 25px -5px rgba(0,0,0,.1),0 10px 10px -5px rgba(0,0,0,.04)}.shadow-2xl{box-shadow:0 25px 50px -12px rgba(0,0,0,.25)}
        .cursor-pointer{cursor:pointer}.select-none{user-select:none}.outline-none{outline:0}.hidden{display:none}.relative{position:relative}.absolute{position:absolute}.fixed{position:fixed}.inset-0{top:0;right:0;bottom:0;left:0}.top-0{top:0}.right-0{right:0}.top-10{top:2.5rem}
        .z-10{z-index:10}.z-20{z-index:20}.z-30{z-index:30}.z-40{z-index:40}.z-60{z-index:60}.z-1000{z-index:1000}.z-2000{z-index:2000}.z-3000{z-index:3000}
        .backdrop-blur-md{backdrop-filter:blur(12px)}.animate-pulse{animation:pulse 2s cubic-bezier(.4,0,.6,1) infinite}
        @keyframes pulse{0%,100%{opacity:1}50%{opacity:.5}}
        button:active{transform:scale(.95)}.grayscale{filter:grayscale(100%)}.opacity-20{opacity:.2}.opacity-50{opacity:.5}.opacity-100{opacity:1}.font-mono{font-family:'Courier New',monospace}
        .vault-logo{font-size:2.5rem;font-weight:1000;color:var(--header)!important;font-style:italic;letter-spacing:-.07em;line-height:1;text-transform:uppercase;cursor:pointer;user-select:none}
        .archive-text{color:var(--subtext)!important;font-size:10px;font-weight:1000;text-transform:uppercase;letter-spacing:.25em}
        h2{color:var(--header)!important;font-weight:950!important;text-transform:uppercase;letter-spacing:.15em;font-size:1.1rem!important;margin:0}h3{margin:0}
        .icon-btn{color:var(--header)!important;transition:transform .2s;background:transparent!important}.icon-btn:active{transform:scale(.9)}
        .media-card{position:relative;border:1px solid var(--card-border);backdrop-filter:blur(20px);border-radius:12px;overflow:hidden;margin-bottom:.75rem;box-shadow:0 6px 15px rgba(0,0,0,.25);z-index:10}
        .glass{background:var(--glass);backdrop-filter:blur(12px);border:1px solid rgba(255,255,255,.1);position:relative;z-index:40}
        .priority-bg-1{background:linear-gradient(135deg,#b91c1c 0%,#0f172a 100%)}.priority-bg-2{background:linear-gradient(135deg,#b45309 0%,#0f172a 100%)}.priority-bg-3{background:linear-gradient(135deg,#1d4ed8 0%,#0f172a 100%)}.priority-bg-4{background:#0f172a}.priority-bg-done{background:#1e293b;opacity:.8}
        .card-vidya{border-left:6px solid #fbbf24}.card-movie{border-left:6px solid #ef4444}.card-tv{border-left:6px solid #10b981}
        .category-watermark{position:absolute;top:-5px;right:40px;font-size:1.8rem;font-weight:950;opacity:.15;pointer-events:none;font-style:italic;text-transform:uppercase;z-index:0;color:#fff}
        #live-results{position:absolute;top:100%;left:0;right:0;background:#020617;border:2px solid #3b82f6;border-top:none;border-radius:0 0 12px 12px;z-index:1000;max-height:350px;overflow-y:auto;display:none;box-shadow:0 20px 40px rgba(0,0,0,.8)}
        #live-results.active{display:block}.live-item{padding:12px;border-bottom:1px solid rgba(255,255,255,.1);cursor:pointer;color:#fff;display:flex;align-items:center;gap:12px}.live-item:hover{background:#1e293b}
        .live-img{width:40px;height:55px;object-fit:cover;border-radius:4px;background:#334155;flex-shrink:0}
        .thin-search{background:0 0;border:none;border-bottom:3px solid var(--header);width:100%;font-size:14px;padding:10px 0;outline:0;color:var(--header);font-weight:950;margin-bottom:1.5rem}
        .thin-search::placeholder{color:var(--header);opacity:.7}
        .notes-trigger{font-size:10px;font-weight:1000;color:var(--notes-btn);letter-spacing:.05em;cursor:pointer;text-transform:uppercase;text-decoration:underline}
        .notes-area{background:rgba(0,0,0,.85);border:1px solid rgba(255,255,255,.4);color:#fff;font-size:12px;width:100%;border-radius:6px;outline:0;resize:none;overflow:hidden;height:0;opacity:0;transition:all .2s}
        .notes-area.active{height:auto;min-height:45px;padding:10px;margin-top:10px;opacity:1}
        #settings-menu{position:fixed;inset:0;background:rgba(0,0,0,.95);z-index:2000;display:none;align-items:center;justify-content:center;backdrop-filter:blur(10px)}#settings-menu.active{display:flex}
        .pri-dot{width:10px;height:10px;border-radius:50%;border:1px solid rgba(255,255,255,.3);cursor:pointer;transition:all .2s;box-shadow:none!important}.pri-dot:hover{transform:scale(1.2)}
        .bg-black\/40{background-color:rgba(0,0,0,.4)}.bg-black\/60{background-color:rgba(0,0,0,.6)}.bg-white\/10{background-color:rgba(255,255,255,.1)}.bg-white\/20{background-color:rgba(255,255,255,.2)}
        .border-white\/5{border-color:rgba(255,255,255,.05)}.border-white\/10{border-color:rgba(255,255,255,.1)}.border-white\/20{border-color:rgba(255,255,255,.2)}.border-white\/40{border-color:rgba(255,255,255,.4)}
        .text-white\/50{color:rgba(255,255,255,.5)}.text-white\/70{color:rgba(255,255,255,.7)}.placeholder-white\/60::placeholder{color:rgba(255,255,255,.6)}
        .text-blue-400{color:#60a5fa}.text-red-400{color:#f87171}.text-green-400{color:#4ade80}.text-\[9px\]{font-size:9px}.text-\[10px\]{font-size:10px}.max-sm{max-width:24rem}.tracking-wider{letter-spacing:.05em}.flex-shrink-0{flex-shrink:0}
        .delete-confirm{background-color:#dc2626!important}
        .sync-spinning{animation:spin 1s linear infinite}
        @keyframes spin{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}
    </style>
</head>
<body id="body-root">
    <div class="max-w-3xl pb-32">
        <header class="mb-6 flex justify-between items-center">
            <div class="flex items-center gap-3">
                <div id="sync-icon" onclick="manualSync()" class="icon-btn cursor-pointer" title="Sync with cloud">
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="4.5" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 1 1-6.219-8.56"></path><polyline points="22 4 22 10 16 10"></polyline></svg>
                </div>
                <div>
                    <h1 class="vault-logo">VAULT</h1>
                    <p class="archive-text">Archive 2026</p>
                </div>
            </div>
            <div onclick="document.getElementById('settings-menu').style.display='flex';checkBackupReminder()" class="icon-btn p-2 cursor-pointer">
                <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path></svg>
            </div>
        </header>

        <input id="global-search" type="text" class="thin-search" placeholder="FILTER VAULT..." oninput="render()">
        
        <div class="flex gap-2 mb-6">
            <button onclick="toggleStatusFilter('all')" id="filter-all" class="px-3 py-1 rounded-xl text-[9px] font-black uppercase bg-white/10 text-white border border-white/20">All</button>
            <button onclick="toggleStatusFilter('to-do')" id="filter-todo" class="px-3 py-1 rounded-xl text-[9px] font-black uppercase bg-white/10 text-white border border-white/20">To-Do</button>
            <button onclick="toggleStatusFilter('in-progress')" id="filter-progress" class="px-3 py-1 rounded-xl text-[9px] font-black uppercase bg-white/10 text-white border border-white/20">In Progress</button>
            <button onclick="toggleStatusFilter('done')" id="filter-done" class="px-3 py-1 rounded-xl text-[9px] font-black uppercase bg-white/10 text-white border border-white/20">Done</button>
        </div>

        <div class="glass p-5 rounded-3xl mb-10 shadow-2xl">
            <div class="grid grid-cols-1 gap-4">
                <div class="relative z-60">
                    <input id="title" type="text" autocomplete="off" placeholder="Enter Title or Paste URL..." oninput="debounceSearch()" onpaste="handlePaste(event)" style="background-color:rgba(0,0,0,0.6);border:1px solid rgba(255,255,255,0.2);padding:1rem;border-radius:0.75rem;color:white;width:100%;outline:none;font-weight:bold" class="placeholder-white\/60">
                    <div id="live-results"></div>
                </div>
                <div class="grid grid-cols-3 gap-2">
                    <select id="category" class="bg-slate-900 p-3 rounded-xl text-[10px] text-white font-black uppercase outline-none border border-white/10">
                        <option value="movie">üé• Movie</option><option value="tv">üì∫ TV Show</option><option value="vidya" selected>üéÆ Game</option>
                    </select>
                    <select id="priority" class="bg-slate-900 p-3 rounded-xl text-[10px] text-white font-black uppercase outline-none border border-white/10">
                        <option value="1">Immediate</option><option value="2">High</option><option value="3" selected>Medium</option><option value="4">Low</option>
                    </select>
                    <select id="sort-order" onchange="localStorage.setItem('vault_sort',this.value);render()" class="bg-blue-900 p-3 rounded-xl text-[10px] text-white font-black uppercase outline-none border border-white/10">
                        <option value="priority">Priority</option>
                        <option value="priority-added">Priority ‚Üí Added</option>
                        <option value="priority-rating">Priority ‚Üí Rating</option>
                        <option value="priority-release">Priority ‚Üí Release</option>
                        <option value="priority-genre">Priority ‚Üí Genre</option>
                        <option value="priority-manual">Priority ‚Üí Manual</option>
                        <option value="recent">Recent</option>
                        <option value="rating">Rating</option>
                        <option value="release">Release Year</option>
                        <option value="added">Date Added</option>
                        <option value="manual">Manual</option>
                    </select>
                </div>
                <div class="flex items-center gap-2">
                    <label class="flex items-center gap-2 cursor-pointer select-none" style="color:rgba(255,255,255,0.6);font-size:10px;font-weight:900;text-transform:uppercase;letter-spacing:.1em">
                        <input type="checkbox" id="mark-upcoming" class="w-3 h-3 cursor-pointer"> Upcoming
                    </label>
                </div>
                <div class="flex gap-2">
                    <button onclick="pickRandom()" class="bg-purple-600 text-white p-3 rounded-xl font-black text-sm uppercase shadow-lg border-b-4 border-purple-800 w-16 flex items-center justify-center">üé≤</button>
                    <button onclick="finalizeAdd(document.getElementById('title').value,'2026',0,'Custom','--')" class="bg-blue-600 text-white py-3 rounded-xl font-black text-xs uppercase shadow-lg border-b-4 border-blue-800 flex-1">Add</button>
                </div>
            </div>
        </div>
        <div id="tables-container" class="space-y-8"></div>
    </div>

    <div id="settings-menu">
        <div class="bg-slate-900 w-11/12 max-sm p-6 rounded-2xl border border-white/10 shadow-2xl">
            <h3 class="text-white font-black uppercase text-xl mb-6 text-center">Settings</h3>
            <div class="grid grid-cols-2 gap-3 mb-6">
                <button onclick="showStats()" class="bg-purple-600 text-white p-4 rounded-xl text-[10px] font-black uppercase border border-white/5">Stats</button>
                <button onclick="document.getElementById('theme-picker').classList.toggle('hidden')" class="bg-slate-800 text-white p-4 rounded-xl text-[10px] font-black uppercase border border-white/5">Theme</button>
                <button onclick="resetCloud()" class="bg-slate-800 text-white p-4 rounded-xl text-[10px] font-black uppercase border border-white/5">New Cloud ID</button>
                <button onclick="downloadBackup()" class="bg-slate-800 text-white p-4 rounded-xl text-[10px] font-black uppercase border border-white/5">Export</button>
                <button onclick="document.getElementById('importFile').click()" class="bg-slate-800 text-white p-4 rounded-xl text-[10px] font-black uppercase border border-white/5">Import</button>
            </div>
            <div id="theme-picker" class="hidden mb-6 grid grid-cols-2 gap-2">
                <button onclick="setTheme('default')" class="p-3 rounded-xl text-[9px] font-black uppercase border-2" style="background:#e6faff;color:#000;border-color:#0369a1">‚òÄÔ∏è Light Blue</button>
                <button onclick="setTheme('dark')" class="p-3 rounded-xl text-[9px] font-black uppercase border-2" style="background:#020617;color:#fff;border-color:#3b82f6">üåô Dark Blue</button>
                <button onclick="setTheme('forest')" class="p-3 rounded-xl text-[9px] font-black uppercase border-2" style="background:#064e3b;color:#fff;border-color:#10b981">üå≤ Forest</button>
                <button onclick="setTheme('sunset')" class="p-3 rounded-xl text-[9px] font-black uppercase border-2" style="background:#7c2d12;color:#fff;border-color:#f97316">üåÖ Sunset</button>
                <button onclick="setTheme('purple')" class="p-3 rounded-xl text-[9px] font-black uppercase border-2" style="background:#581c87;color:#fff;border-color:#a855f7">üíú Purple</button>
                <button onclick="setTheme('midnight')" class="p-3 rounded-xl text-[9px] font-black uppercase border-2" style="background:#0f172a;color:#fff;border-color:#64748b">üåÉ Midnight</button>
                <button onclick="setTheme('rose')" class="p-3 rounded-xl text-[9px] font-black uppercase border-2" style="background:#4c0519;color:#fff;border-color:#fb7185">üåπ Rose</button>
                <button onclick="setTheme('ocean')" class="p-3 rounded-xl text-[9px] font-black uppercase border-2" style="background:#164e63;color:#fff;border-color:#06b6d4">üåä Ocean</button>
            </div>
            <div id="backup-reminder"></div>
            <div id="cat-order-list" class="space-y-2 mb-6"></div>
            <div id="cloud-status" class="text-center text-xs mb-4"></div>
            <button onclick="document.getElementById('settings-menu').style.display='none'" class="w-full bg-white text-black p-4 rounded-xl font-black text-xs uppercase shadow-xl">Close</button>
        </div>
    </div>
    <input type="file" id="importFile" class="hidden" onchange="importBackup(this)">

    <div id="random-modal" onclick="this.style.display='none'" class="fixed inset-0 z-3000 backdrop-blur-md flex flex-col items-center justify-center p-6 cursor-pointer" style="display:none;back