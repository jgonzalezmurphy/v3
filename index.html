<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="VAULT">
    <title>VAULT</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root{--bg:#e6faff;--text:#000;--header:#000;--card-border:rgba(0,0,0,.3);--glass:rgba(15,23,42,.98);--notes-btn:#0369a1;--subtext:#475569;--filter-inactive:#64748b;--filter-inactive-bg:rgba(100,116,139,0.2);--filter-inactive-text:#334155}
        body{background:var(--bg);color:var(--text);transition:all 0.3s ease;overflow-x:hidden}
        body.default-light{--bg:#e6faff;--text:#000;--header:#000;--card-border:rgba(0,0,0,.3);--glass:rgba(15,23,42,.98);--notes-btn:#0369a1;--subtext:#475569;--filter-inactive:#64748b;--filter-inactive-bg:rgba(100,116,139,0.2);--filter-inactive-text:#334155}
        body.default-dark,body.dark{--bg:#020617;--text:#cbd5e1;--header:#fff;--card-border:rgba(255,255,255,.1);--glass:rgba(0,0,0,.95);--notes-btn:#38bdf8;--subtext:#94a3b8;--filter-inactive:#94a3b8;--filter-inactive-bg:rgba(255,255,255,0.1);--filter-inactive-text:#e2e8f0}
        body.forest{--bg:#064e3b;--text:#d1fae5;--header:#fff;--card-border:rgba(16,185,129,.3);--glass:rgba(6,78,59,.95);--notes-btn:#10b981;--subtext:#86efac;--filter-inactive:#6ee7b7;--filter-inactive-bg:rgba(16,185,129,0.2);--filter-inactive-text:#d1fae5}
        body.sunset{--bg:#7c2d12;--text:#fed7aa;--header:#fff;--card-border:rgba(249,115,22,.3);--glass:rgba(124,45,18,.95);--notes-btn:#f97316;--subtext:#fdba74;--filter-inactive:#fb923c;--filter-inactive-bg:rgba(249,115,22,0.2);--filter-inactive-text:#fed7aa}
        body.purple{--bg:#581c87;--text:#e9d5ff;--header:#fff;--card-border:rgba(168,85,247,.3);--glass:rgba(88,28,135,.95);--notes-btn:#a855f7;--subtext:#d8b4fe;--filter-inactive:#c084fc;--filter-inactive-bg:rgba(168,85,247,0.2);--filter-inactive-text:#e9d5ff}
        body.midnight{--bg:#0f172a;--text:#cbd5e1;--header:#fff;--card-border:rgba(100,116,139,.3);--glass:rgba(15,23,42,.95);--notes-btn:#64748b;--subtext:#94a3b8;--filter-inactive:#94a3b8;--filter-inactive-bg:rgba(100,116,139,0.2);--filter-inactive-text:#cbd5e1}
        body.rose{--bg:#4c0519;--text:#fecdd3;--header:#fff;--card-border:rgba(251,113,133,.3);--glass:rgba(76,5,25,.95);--notes-btn:#fb7185;--subtext:#fda4af;--filter-inactive:#fb7185;--filter-inactive-bg:rgba(251,113,133,0.2);--filter-inactive-text:#fecdd3}
        body.ocean{--bg:#164e63;--text:#cffafe;--header:#fff;--card-border:rgba(6,182,212,.3);--glass:rgba(22,78,99,.95);--notes-btn:#06b6d4;--subtext:#67e8f9;--filter-inactive:#22d3ee;--filter-inactive-bg:rgba(6,182,212,0.2);--filter-inactive-text:#cffafe}
        body.cyberpunk{--bg:#1a0033;--text:#f0abfc;--header:#fff;--card-border:rgba(217,70,239,.4);--glass:rgba(26,0,51,.95);--notes-btn:#d946ef;--subtext:#f0abfc;--filter-inactive:#e879f9;--filter-inactive-bg:rgba(217,70,239,0.2);--filter-inactive-text:#fae8ff}
        body.nature{--bg:#1c4532;--text:#bbf7d0;--header:#fff;--card-border:rgba(34,197,94,.3);--glass:rgba(28,69,50,.95);--notes-btn:#22c55e;--subtext:#86efac;--filter-inactive:#4ade80;--filter-inactive-bg:rgba(34,197,94,0.2);--filter-inactive-text:#bbf7d0}
        body.monochrome{--bg:#18181b;--text:#e4e4e7;--header:#fff;--card-border:rgba(161,161,170,.3);--glass:rgba(24,24,27,.95);--notes-btn:#a1a1aa;--subtext:#d4d4d8;--filter-inactive:#a1a1aa;--filter-inactive-bg:rgba(161,161,170,0.2);--filter-inactive-text:#e4e4e7}
        body.retro{--bg:#fef3c7;--text:#78350f;--header:#78350f;--card-border:rgba(217,119,6,.3);--glass:rgba(254,243,199,.98);--notes-btn:#d97706;--subtext:#92400e;--filter-inactive:#a16207;--filter-inactive-bg:rgba(217,119,6,0.2);--filter-inactive-text:#78350f}
        
        body.matrix{background:#000 url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100"><text x="10" y="20" fill="%2300ff00" opacity="0.1" font-family="monospace">01</text><text x="50" y="50" fill="%2300ff00" opacity="0.15" font-family="monospace">10</text><text x="20" y="80" fill="%2300ff00" opacity="0.1" font-family="monospace">11</text></svg>');--text:#00ff00;--header:#00ff00;--card-border:rgba(0,255,0,.3);--glass:rgba(0,20,0,.95);--notes-btn:#00ff00;--subtext:#00cc00;--filter-inactive:#00aa00;--filter-inactive-bg:rgba(0,255,0,0.1);--filter-inactive-text:#00ff00}
        body.arcade{background:#1a0033 repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(255,0,255,0.03) 2px,rgba(255,0,255,0.03) 4px);--text:#ff00ff;--header:#ffff00;--card-border:rgba(255,0,255,.4);--glass:rgba(26,0,51,.95);--notes-btn:#ff00ff;--subtext:#ff66ff;--filter-inactive:#cc00cc;--filter-inactive-bg:rgba(255,0,255,0.15);--filter-inactive-text:#ff66ff}
        body.noir{background:#0a0a0a radial-gradient(ellipse at center,rgba(255,255,255,0.05) 0%,rgba(0,0,0,0.8) 100%);--text:#e5e5e5;--header:#fff;--card-border:rgba(255,255,255,.2);--glass:rgba(10,10,10,.95);--notes-btn:#999;--subtext:#bbb;--filter-inactive:#777;--filter-inactive-bg:rgba(255,255,255,0.08);--filter-inactive-text:#ccc}
        body.synthwave{background:#0a0520 linear-gradient(180deg,#0a0520 0%,#1a0a3e 50%,#2a0a4e 100%);--text:#ff71ce;--header:#01cdfe;--card-border:rgba(255,113,206,.3);--glass:rgba(10,5,32,.95);--notes-btn:#05ffa1;--subtext:#b967ff;--filter-inactive:#fffb96;--filter-inactive-bg:rgba(255,113,206,0.15);--filter-inactive-text:#ff71ce}
        body.horror{background:#0d0208 url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="200"><circle cx="100" cy="100" r="80" fill="none" stroke="%23330000" opacity="0.1"/></svg>');--text:#ff0a00;--header:#ff0a00;--card-border:rgba(255,10,0,.3);--glass:rgba(13,2,8,.95);--notes-btn:#cc0000;--subtext:#ff6b6b;--filter-inactive:#aa0000;--filter-inactive-bg:rgba(255,10,0,0.1);--filter-inactive-text:#ff6b6b}
        body.scifi{background:#001f3f linear-gradient(135deg,#001f3f 0%,#003d5c 50%,#00192f 100%);--text:#00d9ff;--header:#00ffff;--card-border:rgba(0,217,255,.3);--glass:rgba(0,31,63,.95);--notes-btn:#00d9ff;--subtext:#66e5ff;--filter-inactive:#0099cc;--filter-inactive-bg:rgba(0,217,255,0.15);--filter-inactive-text:#99f0ff}
        
        body::before{content:'';position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.3);pointer-events:none;z-index:0}
        .vault-logo{font-size:2.5rem;font-weight:900;letter-spacing:.2em;color:var(--header);text-shadow:2px 2px 4px rgba(0,0,0,0.5)}
        h2{font-size:1.25rem;font-weight:900;color:var(--header);text-shadow:1px 1px 2px rgba(0,0,0,0.3)}
        .icon-btn{cursor:pointer;width:40px;height:40px;display:flex;align-items:center;justify-content:center;background:rgba(255,255,255,.1);border-radius:50%;backdrop-filter:blur(10px);border:1px solid var(--card-border);position:relative;z-index:10}
        .icon-btn::before{content:'‚öôÔ∏è';font-size:20px}
        #live-results{position:absolute;top:100%;left:0;right:0;background:var(--glass);border:2px solid #3b82f6;border-top:none;border-radius:0 0 12px 12px;z-index:1000;max-height:350px;overflow-y:auto;display:none;box-shadow:0 20px 40px rgba(0,0,0,.8);backdrop-filter:blur(20px)}
        #live-results.active{display:block}
        .live-item{padding:12px;border-bottom:1px solid rgba(255,255,255,.1);cursor:pointer;color:#fff;display:flex;align-items:center;gap:12px}
        .live-item:hover{background:rgba(59,130,246,0.2)}
        .live-img{width:40px;height:60px;object-fit:cover;border-radius:4px;background:#1e293b}
        .media-card{position:relative;overflow:hidden;border-radius:12px;border:1px solid var(--card-border);backdrop-filter:blur(10px);transition:all 0.3s ease;animation:fadeIn 0.3s ease}
        .media-card::before{content:'';position:absolute;left:0;top:0;bottom:0;width:4px;z-index:2}
        .card-vidya::before{background:linear-gradient(180deg,#fbbf24,#f59e0b)}
        .card-movie::before{background:linear-gradient(180deg,#ef4444,#dc2626)}
        .card-tv::before{background:linear-gradient(180deg,#22c55e,#16a34a)}
        @keyframes fadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
        .media-card.deleting{animation:slideOut 0.3s ease forwards}
        @keyframes slideOut{to{opacity:0;transform:translateX(-100%)}}
        .media-card.compact{padding:0.5rem!important;min-height:60px!important}
        .media-card.compact h3{font-size:0.75rem!important;line-height:1.2!important}
        .media-card.compact .text-\[9px\]{font-size:0.65rem!important}
        .media-card.compact .cover-art{width:35px!important;height:52px!important}
        .media-card.compact .font-mono{font-size:0.875rem!important}
        .media-card.compact .mt-2{margin-top:0.25rem!important}
        .category-watermark{position:absolute;bottom:8px;right:8px;font-size:80px;font-weight:900;opacity:.03;pointer-events:none;text-transform:uppercase;z-index:1}
        .priority-bg-1{background:linear-gradient(135deg,rgba(180,0,25,0.92) 0%,rgba(220,30,30,0.65) 35%,rgba(120,0,15,0.22) 100%)}
        .priority-bg-2{background:linear-gradient(135deg,rgba(160,90,0,0.92) 0%,rgba(210,140,0,0.65) 35%,rgba(110,60,0,0.22) 100%)}
        .priority-bg-3{background:linear-gradient(135deg,rgba(15,55,180,0.92) 0%,rgba(40,90,220,0.65) 35%,rgba(10,35,130,0.22) 100%)}
        .priority-bg-4{background:linear-gradient(135deg,rgba(45,65,100,0.92) 0%,rgba(70,100,145,0.65) 35%,rgba(30,45,75,0.22) 100%)}
        .priority-bg-done{background:linear-gradient(135deg,rgba(10,130,60,0.92) 0%,rgba(30,180,90,0.65) 35%,rgba(5,90,40,0.22) 100%)}
        body.default-light .priority-bg-1{background:linear-gradient(135deg,rgba(180,0,25,0.92) 0%,rgba(220,30,30,0.65) 35%,rgba(120,0,15,0.22) 100%)}
        body.default-light .priority-bg-2{background:linear-gradient(135deg,rgba(160,90,0,0.92) 0%,rgba(210,140,0,0.65) 35%,rgba(110,60,0,0.22) 100%)}
        body.default-light .priority-bg-3{background:linear-gradient(135deg,rgba(15,55,180,0.92) 0%,rgba(40,90,220,0.65) 35%,rgba(10,35,130,0.22) 100%)}
        body.default-light .priority-bg-4{background:linear-gradient(135deg,rgba(45,65,100,0.92) 0%,rgba(70,100,145,0.65) 35%,rgba(30,45,75,0.22) 100%)}
        body.default-light .priority-bg-done{background:linear-gradient(135deg,rgba(10,130,60,0.92) 0%,rgba(30,180,90,0.65) 35%,rgba(5,90,40,0.22) 100%)}
        body.default-dark .priority-bg-1{background:linear-gradient(135deg,rgba(180,0,25,0.92) 0%,rgba(220,30,30,0.65) 35%,rgba(120,0,15,0.22) 100%)}
        body.default-dark .priority-bg-2{background:linear-gradient(135deg,rgba(160,90,0,0.92) 0%,rgba(210,140,0,0.65) 35%,rgba(110,60,0,0.22) 100%)}
        body.default-dark .priority-bg-3{background:linear-gradient(135deg,rgba(15,55,180,0.92) 0%,rgba(40,90,220,0.65) 35%,rgba(10,35,130,0.22) 100%)}
        body.default-dark .priority-bg-4{background:linear-gradient(135deg,rgba(45,65,100,0.92) 0%,rgba(70,100,145,0.65) 35%,rgba(30,45,75,0.22) 100%)}
        body.default-dark .priority-bg-done{background:linear-gradient(135deg,rgba(10,130,60,0.92) 0%,rgba(30,180,90,0.65) 35%,rgba(5,90,40,0.22) 100%)}
        .pri-dot{width:12px;height:12px;border-radius:50%;cursor:pointer;transition:all 0.2s}
        .notes-trigger{font-size:9px;text-transform:uppercase;font-weight:900;color:var(--notes-btn);cursor:pointer;letter-spacing:.05em;padding:4px 8px;background:rgba(255,255,255,.05);border-radius:6px;border:1px solid var(--card-border)}
        .notes-area{width:100%;margin-top:8px;padding:8px;background:rgba(0,0,0,.3);border:1px solid var(--card-border);border-radius:8px;color:#fff;resize:none;outline:none;font-size:11px;max-height:0;overflow:hidden;opacity:0;transition:all 0.3s ease}
        .notes-area.active{max-height:200px;opacity:1;margin-top:12px}
        .delete-confirm{background:rgba(220,38,38,0.8)!important}
        #settings-menu,#random-modal,#stats-modal,#custom-modal{position:fixed;inset:0;background:rgba(0,0,0,.9);display:none;align-items:center;justify-content:center;z-index:9999;backdrop-filter:blur(10px)}
        #custom-modal .modal-content{background:var(--glass);border:2px solid var(--card-border);border-radius:16px;padding:2rem;max-width:400px;box-shadow:0 20px 60px rgba(0,0,0,0.8)}
        #custom-modal .modal-title{color:var(--header);font-weight:900;font-size:1.25rem;margin-bottom:1rem;text-align:center}
        #custom-modal .modal-message{color:var(--text);margin-bottom:1.5rem;text-align:center}
        #custom-modal .modal-input{width:100%;padding:0.75rem;background:rgba(0,0,0,0.4);border:1px solid var(--card-border);border-radius:8px;color:var(--text);outline:none;margin-bottom:1rem}
        #custom-modal .modal-buttons{display:flex;gap:0.5rem;justify-content:center}
        #custom-modal button{padding:0.75rem 1.5rem;border-radius:8px;font-weight:900;text-transform:uppercase;font-size:0.75rem;cursor:pointer;border:none}
        #custom-modal .btn-primary{background:#3b82f6;color:#fff}
        #custom-modal .btn-secondary{background:rgba(255,255,255,0.1);color:var(--text)}
        #custom-modal .btn-danger{background:#ef4444;color:#fff}
        .max-sm{max-width:500px;max-height:90vh;overflow-y:auto}
        .skeleton{background:linear-gradient(90deg,rgba(255,255,255,0.05) 25%,rgba(255,255,255,0.1) 50%,rgba(255,255,255,0.05) 75%);background-size:200% 100%;animation:shimmer 1.5s infinite}
        @keyframes shimmer{0%{background-position:200% 0}100%{background-position:-200% 0}}
        .tag-chip{display:inline-block;background:rgba(59,130,246,0.2);color:#60a5fa;padding:2px 8px;border-radius:12px;font-size:8px;font-weight:900;margin:2px;border:1px solid rgba(59,130,246,0.3);text-transform:uppercase}
        .cover-art{width:60px;height:90px;object-fit:cover;border-radius:8px;margin-right:12px;box-shadow:0 4px 12px rgba(0,0,0,0.5)}
        .swipe-actions{position:absolute;top:0;bottom:0;display:flex;align-items:center;justify-content:center;font-weight:900;text-transform:uppercase;font-size:12px;transition:all 0.3s}
        .swipe-left{right:0;background:rgba(239,68,68,0.9);padding:0 20px}
        .swipe-right{left:0;background:rgba(34,197,94,0.9);padding:0 20px}
        #undo-banner{position:fixed;bottom:20px;left:50%;transform:translateX(-50%);background:#1e293b;color:#fff;padding:12px 24px;border-radius:12px;box-shadow:0 4px 12px rgba(0,0,0,0.5);z-index:9999;display:none;animation:slideUp 0.3s ease}
        @keyframes slideUp{from{transform:translate(-50%,100px)}to{transform:translate(-50%,0)}}
        #confetti-canvas{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:99999}
        .highlight{background:rgba(255,255,0,0.3);border-radius:2px}
    </style>
</head>
<body>
    <div class="min-h-screen p-4 relative z-10">
        <div class="max-w-4xl mx-auto">
            <div class="flex justify-between items-center mb-6">
                <h1 class="vault-logo">VAULT</h1>
                <div onclick="document.getElementById('settings-menu').style.display='flex';checkBackupReminder()" class="icon-btn p-2 cursor-pointer"></div>
            </div>
            
            <div class="mb-4">
                <input id="global-search" type="text" placeholder="Search vault..." oninput="render()" class="w-full p-3 rounded-xl backdrop-blur-xl text-white placeholder-white/60 outline-none font-bold border border-white/20" style="background:rgba(0,0,0,0.4);text-shadow:1px 1px 2px rgba(0,0,0,0.5)">
            </div>
            
            <div class="flex gap-2 mb-6 flex-wrap">
                <button id="filter-all" onclick="toggleStatusFilter('all')" class="px-4 py-2 rounded-xl text-xs font-black uppercase border-2 transition-all" style="text-shadow:1px 1px 2px rgba(0,0,0,0.5)">All</button>
                <button id="filter-todo" onclick="toggleStatusFilter('to-do')" class="px-4 py-2 rounded-xl text-xs font-black uppercase border-2 transition-all" style="text-shadow:1px 1px 2px rgba(0,0,0,0.5)">To-Do</button>
                <button id="filter-progress" onclick="toggleStatusFilter('in-progress')" class="px-4 py-2 rounded-xl text-xs font-black uppercase border-2 transition-all" style="text-shadow:1px 1px 2px rgba(0,0,0,0.5)">In Progress</button>
                <button id="filter-done" onclick="toggleStatusFilter('done')" class="px-4 py-2 rounded-xl text-xs font-black uppercase border-2 transition-all" style="text-shadow:1px 1px 2px rgba(0,0,0,0.5)">Done</button>
            </div>
            
            <div class="backdrop-blur-xl p-6 rounded-2xl mb-6 border border-white/10" style="background:var(--glass)">
                <div class="relative mb-3">
                    <input id="title" type="text" autocomplete="off" placeholder="Enter Title or Paste URL..." oninput="debounceSearch()" onpaste="handlePaste(event)" onkeydown="handleEnterKey(event)" style="background-color:rgba(0,0,0,0.6);border:1px solid rgba(255,255,255,0.2);padding:1rem;border-radius:0.75rem;color:white;width:100%;outline:none;font-weight:bold;text-shadow:1px 1px 2px rgba(0,0,0,0.5)" class="placeholder-white/60">
                    <div id="live-results"></div>
                </div>
                <div class="grid grid-cols-2 gap-3 mb-3">
                    <select id="category" class="bg-blue-900 p-3 rounded-xl text-[10px] text-white font-black uppercase outline-none border border-white/10">
                        <option value="vidya">üéÆ Games</option>
                        <option value="movie">üé• Movies</option>
                        <option value="tv">üì∫ TV Shows</option>
                    </select>
                    <select id="priority" class="bg-blue-900 p-3 rounded-xl text-[10px] text-white font-black uppercase outline-none border border-white/10">
                        <option value="1">üî¥ Immediate</option>
                        <option value="2">üü† High</option>
                        <option value="3" selected>üîµ Medium</option>
                        <option value="4">‚ö´ Low</option>
                    </select>
                </div>
                <div class="mb-3">
                    <select id="sort-order" onchange="localStorage.setItem('vault_sort',this.value);render()" class="bg-blue-900 p-3 rounded-xl text-[10px] text-white font-black uppercase outline-none border border-white/10 w-full">
                        <option value="priority">Priority</option>
                        <option value="priority-added">Priority ‚Üí Added</option>
                        <option value="priority-rating">Priority ‚Üí Rating</option>
                        <option value="priority-release">Priority ‚Üí Release</option>
                        <option value="priority-genre">Priority ‚Üí Genre</option>
                        <option value="priority-manual">Priority ‚Üí Manual</option>
                        <option value="smart">üß† Smart Sort</option>
                        <option value="recent">Recent</option>
                        <option value="rating">Rating</option>
                        <option value="release">Release Year</option>
                        <option value="added">Date Added</option>
                        <option value="manual">Manual</option>
                    </select>
                </div>
                <div class="flex items-center gap-2 mb-3">
                    <label class="flex items-center gap-2 cursor-pointer select-none" style="color:rgba(255,255,255,0.6);font-size:10px;font-weight:900;text-transform:uppercase;letter-spacing:.1em;text-shadow:1px 1px 2px rgba(0,0,0,0.5)">
                        <input type="checkbox" id="mark-upcoming" class="w-3 h-3 cursor-pointer"> Upcoming
                    </label>
                </div>
                <div class="flex gap-2">
                    