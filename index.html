<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="application-name" content="VAULT">
    <meta name="apple-mobile-web-app-title" content="VAULT">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="icon.png">
    <link rel="apple-touch-icon" href="icon.png">
    <meta name="theme-color" content="#0f172a">
    <title>VAULT</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root{--bg:#e6faff;--text:#000;--header:#000;--card-border:rgba(0,0,0,.3);--glass:rgba(15,23,42,.98);--notes-btn:#0369a1;--subtext:#475569;--filter-inactive:#64748b;--filter-inactive-bg:rgba(100,116,139,0.2);--filter-inactive-text:#334155}
        body{background:var(--bg);color:var(--text);transition:background 0.3s ease,color 0.3s ease;overflow-x:hidden}
        body.default-light{--bg:#e6faff;--text:#000;--header:#000;--card-border:rgba(0,0,0,.3);--glass:rgba(15,23,42,.98);--notes-btn:#0369a1;--subtext:#475569;--filter-inactive:#64748b;--filter-inactive-bg:rgba(100,116,139,0.2);--filter-inactive-text:#334155}
        body.default-dark,body.dark{--bg:#020617;--text:#cbd5e1;--header:#fff;--card-border:rgba(255,255,255,.1);--glass:rgba(0,0,0,.95);--notes-btn:#38bdf8;--subtext:#94a3b8;--filter-inactive:#94a3b8;--filter-inactive-bg:rgba(255,255,255,0.1);--filter-inactive-text:#e2e8f0}
        
        body.cyberpunk{background:#0a0015;--text:#f0abfc;--header:#00ffff;--card-border:rgba(217,70,239,.5);--glass:rgba(26,0,51,.95);--notes-btn:#d946ef;--subtext:#f0abfc;--filter-inactive:#e879f9;--filter-inactive-bg:rgba(217,70,239,0.2);--filter-inactive-text:#fae8ff}
        body.cyberpunk::after{content:'';position:fixed;inset:0;background:repeating-linear-gradient(90deg,transparent 0px,transparent 48px,rgba(0,255,255,0.1) 48px,rgba(0,255,255,0.1) 50px),repeating-linear-gradient(0deg,transparent 0px,transparent 48px,rgba(255,0,255,0.08) 48px,rgba(255,0,255,0.08) 50px),repeating-linear-gradient(45deg,transparent 0px,transparent 98px,rgba(217,70,239,0.05) 98px,rgba(217,70,239,0.05) 100px),radial-gradient(circle 1200px at 20% 30%,rgba(0,255,255,0.2) 0%,transparent 60%),radial-gradient(circle 1000px at 80% 70%,rgba(255,0,255,0.25) 0%,transparent 55%),radial-gradient(circle 800px at 50% 10%,rgba(217,70,239,0.15) 0%,transparent 65%),linear-gradient(180deg,transparent 0%,rgba(0,255,255,0.08) 50%,transparent 100%);pointer-events:none;z-index:0;animation:cyberGlitch 6s ease-in-out infinite}
        @keyframes cyberGlitch{0%,100%{opacity:1;transform:translateY(0)}25%{opacity:0.95;transform:translateY(-2px)}50%{opacity:1;transform:translateY(0)}75%{opacity:0.97;transform:translateY(1px)}}
        
        body.synthwave{background:linear-gradient(180deg,#1a0a3e 0%,#2a0050 40%,#0a0520 100%);--text:#ff71ce;--header:#01cdfe;--card-border:rgba(255,113,206,.4);--glass:rgba(10,5,32,.95);--notes-btn:#05ffa1;--subtext:#ff71ce;--filter-inactive:#fffb96;--filter-inactive-bg:rgba(255,113,206,0.2);--filter-inactive-text:#ff71ce}
        body.synthwave::after{content:'';position:fixed;inset:0;background:repeating-linear-gradient(0deg,transparent 0px,transparent 18px,rgba(255,113,206,0.12) 18px,rgba(255,113,206,0.12) 20px),repeating-linear-gradient(90deg,transparent 0px,transparent 48px,rgba(1,205,254,0.08) 48px,rgba(1,205,254,0.08) 50px),radial-gradient(ellipse 180% 50% at 50% 110%,rgba(255,113,206,0.3) 0%,rgba(1,205,254,0.25) 20%,rgba(5,255,161,0.2) 35%,transparent 65%),radial-gradient(circle 1500px at 50% 120%,rgba(255,71,206,0.35) 0%,transparent 50%),radial-gradient(circle 800px at 25% 15%,rgba(255,251,150,0.12) 0%,transparent 70%),radial-gradient(circle 900px at 75% 20%,rgba(185,103,255,0.15) 0%,transparent 75%),linear-gradient(0deg,rgba(255,113,206,0.18) 0%,transparent 50%);pointer-events:none;z-index:0;animation:synthSun 25s ease-in-out infinite}
        @keyframes synthSun{0%,100%{transform:translateY(0px) scale(1)}50%{transform:translateY(-25px) scale(1.05)}}
        
        body.matrix{background:#000;--text:#00ff00;--header:#00ff00;--card-border:rgba(0,255,0,.4);--glass:rgba(0,20,0,.95);--notes-btn:#00ff00;--subtext:#00cc00;--filter-inactive:#00aa00;--filter-inactive-bg:rgba(0,255,0,0.15);--filter-inactive-text:#00ff00}
        body.matrix::after{content:'';position:fixed;inset:0;background:repeating-linear-gradient(0deg,transparent 0px,transparent 1px,rgba(0,255,0,0.08) 1px,rgba(0,255,0,0.08) 3px),repeating-linear-gradient(90deg,transparent 0px,transparent 38px,rgba(0,255,0,0.04) 38px,rgba(0,255,0,0.04) 40px),radial-gradient(ellipse 100% 60% at 50% 50%,rgba(0,180,0,0.5) 0%,transparent 80%),radial-gradient(circle 1200px at 15% 25%,rgba(0,255,0,0.15) 0%,transparent 70%),radial-gradient(circle 1000px at 85% 75%,rgba(0,200,0,0.2) 0%,transparent 65%),radial-gradient(circle 800px at 50% 90%,rgba(0,255,0,0.12) 0%,transparent 75%),linear-gradient(180deg,rgba(0,255,0,0.06) 0%,transparent 40%,transparent 60%,rgba(0,100,0,0.15) 100%);pointer-events:none;z-index:0;animation:matrixRain 4s linear infinite}
        @keyframes matrixRain{0%{background-position:0 0,0 0,0 0,0 0,0 0,0 0,0 0}100%{background-position:0 40px,0 0,0 0,0 0,0 0,0 0,0 0}}
        
        body.ocean{background:linear-gradient(180deg,#0c4a6e 0%,#164e63 30%,#082f49 70%,#051b2a 100%);--text:#cffafe;--header:#fff;--card-border:rgba(6,182,212,.4);--glass:rgba(8,47,73,.95);--notes-btn:#06b6d4;--subtext:#67e8f9;--filter-inactive:#22d3ee;--filter-inactive-bg:rgba(6,182,212,0.25);--filter-inactive-text:#cffafe}
        body.ocean::after{content:'';position:fixed;inset:0;background:repeating-linear-gradient(0deg,transparent 0px,transparent 20px,rgba(6,182,212,0.12) 20px,rgba(6,182,212,0.12) 24px),repeating-linear-gradient(0deg,transparent 0px,transparent 45px,rgba(34,211,238,0.08) 45px,rgba(34,211,238,0.08) 50px),repeating-linear-gradient(0deg,transparent 0px,transparent 75px,rgba(103,232,249,0.06) 75px,rgba(103,232,249,0.06) 80px),radial-gradient(ellipse 180% 70% at 50% 110%,rgba(6,182,212,0.4) 0%,rgba(34,211,238,0.25) 30%,transparent 70%),radial-gradient(circle 1400px at 20% 10%,rgba(34,211,238,0.25) 0%,transparent 60%),radial-gradient(circle 1200px at 80% 30%,rgba(103,232,249,0.18) 0%,transparent 65%),radial-gradient(circle 900px at 15% 80%,rgba(6,182,212,0.2) 0%,transparent 70%),radial-gradient(circle 800px at 85% 85%,rgba(34,211,238,0.15) 0%,transparent 65%),linear-gradient(180deg,rgba(6,182,212,0.12) 0%,transparent 50%);pointer-events:none;z-index:0;animation:oceanWave 18s ease-in-out infinite}
        @keyframes oceanWave{0%,100%{transform:translateY(0px) scaleY(1)}33%{transform:translateY(-15px) scaleY(1.02)}66%{transform:translateY(10px) scaleY(0.98)}}
        
        body.sunset{background:linear-gradient(175deg,#7c2d12 0%,#9a3412 25%,#c2410c 45%,#ea580c 60%,#431407 100%);--text:#fed7aa;--header:#fff;--card-border:rgba(249,115,22,.4);--glass:rgba(124,45,18,.95);--notes-btn:#fb923c;--subtext:#fdba74;--filter-inactive:#fb923c;--filter-inactive-bg:rgba(249,115,22,0.25);--filter-inactive-text:#fed7aa}
        body.sunset::after{content:'';position:fixed;inset:0;background:radial-gradient(ellipse 140% 55% at 50% -5%,rgba(254,215,170,0.5) 0%,rgba(251,146,60,0.4) 15%,rgba(249,115,22,0.3) 30%,transparent 65%),radial-gradient(circle 1200px at 50% 0%,rgba(251,191,36,0.35) 0%,transparent 55%),radial-gradient(circle 800px at 20% 30%,rgba(252,211,77,0.15) 0%,transparent 70%),radial-gradient(circle 900px at 80% 25%,rgba(254,240,138,0.12) 0%,transparent 65%),radial-gradient(circle 700px at 10% 75%,rgba(220,38,38,0.18) 0%,transparent 70%),radial-gradient(circle 750px at 90% 80%,rgba(239,68,68,0.15) 0%,transparent 65%),linear-gradient(180deg,rgba(251,146,60,0.15) 0%,transparent 50%);pointer-events:none;z-index:0;animation:sunsetGlow 20s ease-in-out infinite}
        @keyframes sunsetGlow{0%,100%{opacity:0.9}50%{opacity:1}}
        
        body.noir{background:radial-gradient(ellipse 140% 100% at 50% 50%,#1a1a1a 0%,#0a0a0a 60%,#000 100%);--text:#e5e5e5;--header:#fff;--card-border:rgba(255,255,255,.25);--glass:rgba(10,10,10,.95);--notes-btn:#999;--subtext:#bbb;--filter-inactive:#777;--filter-inactive-bg:rgba(255,255,255,0.1);--filter-inactive-text:#ccc}
        body.noir::after{content:'';position:fixed;inset:0;background:repeating-linear-gradient(45deg,transparent 0px,transparent 1px,rgba(255,255,255,0.012) 1px,rgba(255,255,255,0.012) 3px),repeating-linear-gradient(-45deg,transparent 0px,transparent 1px,rgba(255,255,255,0.012) 1px,rgba(255,255,255,0.012) 3px),radial-gradient(ellipse 120% 80% at 50% 45%,rgba(255,255,255,0.1) 0%,transparent 75%),radial-gradient(circle 1200px at 50% 50%,rgba(255,255,255,0.08) 0%,transparent 60%),radial-gradient(ellipse 100% 60% at 30% 30%,rgba(255,255,255,0.05) 0%,transparent 70%),radial-gradient(circle 900px at 70% 70%,rgba(200,200,200,0.06) 0%,transparent 75%),linear-gradient(180deg,rgba(255,255,255,0.02) 0%,transparent 35%,transparent 65%,rgba(0,0,0,0.5) 100%);pointer-events:none;z-index:0}

        body::before{content:'';position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.25);pointer-events:none;z-index:0}
        .vault-logo{font-size:2.5rem;font-weight:900;letter-spacing:.2em;color:var(--header);text-shadow:2px 2px 4px rgba(0,0,0,0.5)}
        h2{font-size:1.25rem;font-weight:900;color:var(--header);text-shadow:1px 1px 2px rgba(0,0,0,0.3)}
        .icon-btn{cursor:pointer;width:40px;height:40px;display:flex;align-items:center;justify-content:center;background:rgba(255,255,255,.1);border-radius:50%;border:1px solid var(--card-border);position:relative;z-index:10}
        .icon-btn::before{content:'⚙️';font-size:20px}
        #live-results{position:absolute;top:100%;left:0;right:0;background:var(--glass);border:2px solid #3b82f6;border-top:none;border-radius:0 0 12px 12px;z-index:9999;max-height:350px;overflow-y:auto;display:none;box-shadow:0 20px 40px rgba(0,0,0,.8)}
        #live-results.active{display:block}
        .live-item{padding:12px;border-bottom:1px solid rgba(255,255,255,.1);cursor:pointer;color:#fff;display:flex;align-items:center;gap:12px}
        .live-item:hover{background:rgba(59,130,246,0.2)}
        .live-img{width:40px;height:60px;object-fit:cover;border-radius:4px;background:#1e293b}
        .media-card{position:relative;overflow:hidden;border-radius:12px;border:1px solid var(--card-border);transition:transform 0.3s ease;animation:fadeIn 0.3s ease;will-change:transform}
        .media-card::before{content:'';position:absolute;left:0;top:0;bottom:0;width:4px;z-index:2}
        .card-vidya::before{background:linear-gradient(180deg,#fbbf24,#f59e0b)}
        .card-movie::before{background:linear-gradient(180deg,#ef4444,#dc2626)}
        .card-tv::before{background:linear-gradient(180deg,#22c55e,#16a34a)}
        @keyframes fadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
        .media-card.deleting{animation:slideOut 0.3s ease forwards}
        @keyframes slideOut{to{opacity:0;transform:translateX(-100%)}}
        .media-card.compact{padding:0.4rem 0.75rem!important}
        .media-card.compact .compact-hide{display:none!important}
        .media-card.compact .cover-art{width:36px!important;height:54px!important}
        .media-card.compact .font-mono{font-size:0.875rem!important}
        .media-card.compact .mt-2{margin-top:0.2rem!important}
        .category-watermark{position:absolute;bottom:8px;right:8px;font-size:80px;font-weight:900;opacity:.03;pointer-events:none;text-transform:uppercase;z-index:1}
        .priority-bg-1{background:linear-gradient(135deg,rgba(180,0,25,0.92) 0%,rgba(220,30,30,0.65) 35%,rgba(120,0,15,0.22) 100%)}
        .priority-bg-2{background:linear-gradient(135deg,rgba(160,90,0,0.92) 0%,rgba(210,140,0,0.65) 35%,rgba(110,60,0,0.22) 100%)}
        .priority-bg-3{background:linear-gradient(135deg,rgba(15,55,180,0.92) 0%,rgba(40,90,220,0.65) 35%,rgba(10,35,130,0.22) 100%)}
        .priority-bg-4{background:linear-gradient(135deg,rgba(45,65,100,0.92) 0%,rgba(70,100,145,0.65) 35%,rgba(30,45,75,0.22) 100%)}
        .priority-bg-done{background:linear-gradient(135deg,rgba(10,130,60,0.92) 0%,rgba(30,180,90,0.65) 35%,rgba(5,90,40,0.22) 100%)}
        body.default-light .priority-bg-1{background:linear-gradient(135deg,rgba(180,0,25,0.92) 0%,rgba(220,30,30,0.65) 35%,rgba(120,0,15,0.22) 100%)}
        body.default-light .priority-bg-2{background:linear-gradient(135deg,rgba(160,90,0,0.92) 0%,rgba(210,140,0,0.65) 35%,rgba(110,60,0,0.22) 100%)}
        body.default-light .priority-bg-3{background:linear-gradient(135deg,rgba(15,55,180,0.92) 0%,rgba(40,90,220,0.65) 35%,rgba(10,35,130,0.22) 100%)}
        body.default-light .priority-bg-4{background:linear-gradient(135deg,rgba(45,65,100,0.92) 0%,rgba(70,100,145,0.65) 35%,rgba(30,45,75,0.22) 100%)}
        body.default-light .priority-bg-done{background:linear-gradient(135deg,rgba(10,130,60,0.92) 0%,rgba(30,180,90,0.65) 35%,rgba(5,90,40,0.22) 100%)}
        body.default-dark .priority-bg-1{background:linear-gradient(135deg,rgba(180,0,25,0.92) 0%,rgba(220,30,30,0.65) 35%,rgba(120,0,15,0.22) 100%)}
        body.default-dark .priority-bg-2{background:linear-gradient(135deg,rgba(160,90,0,0.92) 0%,rgba(210,140,0,0.65) 35%,rgba(110,60,0,0.22) 100%)}
        body.default-dark .priority-bg-3{background:linear-gradient(135deg,rgba(15,55,180,0.92) 0%,rgba(40,90,220,0.65) 35%,rgba(10,35,130,0.22) 100%)}
        body.default-dark .priority-bg-4{background:linear-gradient(135deg,rgba(45,65,100,0.92) 0%,rgba(70,100,145,0.65) 35%,rgba(30,45,75,0.22) 100%)}
        body.default-dark .priority-bg-done{background:linear-gradient(135deg,rgba(10,130,60,0.92) 0%,rgba(30,180,90,0.65) 35%,rgba(5,90,40,0.22) 100%)}
        .pri-dot{width:12px;height:12px;border-radius:50%;cursor:pointer;transition:all 0.2s}
        .notes-trigger{font-size:9px;text-transform:uppercase;font-weight:900;color:var(--notes-btn);cursor:pointer;letter-spacing:.05em;padding:4px 8px;background:rgba(255,255,255,.05);border-radius:6px;border:1px solid var(--card-border)}
        .notes-area{width:100%;margin-top:8px;padding:8px;background:rgba(0,0,0,.3);border:1px solid var(--card-border);border-radius:8px;color:#fff;resize:none;outline:none;font-size:11px;max-height:0;overflow:hidden;opacity:0;transition:all 0.3s ease}
        .notes-area.active{max-height:200px;opacity:1;margin-top:12px}
        .delete-confirm{background:rgba(220,38,38,0.8)!important}
        #settings-menu,#random-modal,#stats-modal,#custom-modal{position:fixed;inset:0;background:rgba(0,0,0,.9);display:none;align-items:center;justify-content:center;z-index:9999}
        #custom-modal .modal-content{background:var(--glass);border:2px solid var(--card-border);border-radius:16px;padding:2rem;max-width:400px;box-shadow:0 20px 60px rgba(0,0,0,0.8)}
        #custom-modal .modal-title{color:var(--header);font-weight:900;font-size:1.25rem;margin-bottom:1rem;text-align:center}
        #custom-modal .modal-message{color:var(--text);margin-bottom:1.5rem;text-align:center}
        #custom-modal .modal-input{width:100%;padding:0.75rem;background:rgba(0,0,0,0.4);border:1px solid var(--card-border);border-radius:8px;color:var(--text);outline:none;margin-bottom:1rem}
        #custom-modal .modal-buttons{display:flex;gap:0.5rem;justify-content:center}
        #custom-modal button{padding:0.75rem 1.5rem;border-radius:8px;font-weight:900;text-transform:uppercase;font-size:0.75rem;cursor:pointer;border:none}
        #custom-modal .btn-primary{background:#3b82f6;color:#fff}
        #custom-modal .btn-secondary{background:rgba(255,255,255,0.1);color:var(--text)}
        #custom-modal .btn-danger{background:#ef4444;color:#fff}
        .max-sm{max-width:500px;max-height:90vh;overflow-y:auto}
        .skeleton{background:linear-gradient(90deg,rgba(255,255,255,0.05) 25%,rgba(255,255,255,0.1) 50%,rgba(255,255,255,0.05) 75%);background-size:200% 100%;animation:shimmer 1.5s infinite}
        @keyframes shimmer{0%{background-position:200% 0}100%{background-position:-200% 0}}
        .tag-chip{display:inline-block;background:rgba(59,130,246,0.2);color:#60a5fa;padding:2px 8px;border-radius:12px;font-size:8px;font-weight:900;margin:2px;border:1px solid rgba(59,130,246,0.3);text-transform:uppercase}
        .cover-art{width:60px;height:90px;object-fit:cover;border-radius:8px;margin-right:12px;box-shadow:0 4px 12px rgba(0,0,0,0.5)}
        .swipe-actions{position:absolute;top:0;bottom:0;display:flex;align-items:center;justify-content:center;font-weight:900;text-transform:uppercase;font-size:12px}
        .swipe-left{right:0;background:rgba(239,68,68,0.9);padding:0 20px}
        .swipe-right{left:0;background:rgba(34,197,94,0.9);padding:0 20px}
        #undo-banner{position:fixed;bottom:20px;left:50%;transform:translateX(-50%);background:#1e293b;color:#fff;padding:12px 24px;border-radius:12px;box-shadow:0 4px 12px rgba(0,0,0,0.5);z-index:9999;display:none;animation:slideUp 0.3s ease}
        @keyframes slideUp{from{transform:translate(-50%,100px)}to{transform:translate(-50%,0)}}
        #confetti-canvas{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:99999}
        .highlight{background:rgba(255,255,0,0.3);border-radius:2px}
        .relative.z-10{position:relative;z-index:1}
    </style>
</head>
<body>
    <div class="min-h-screen p-4 relative z-10">
        <div class="max-w-4xl mx-auto">
            <div class="flex justify-between items-center mb-6">
                <h1 class="vault-logo">VAULT</h1>
                <div onclick="document.getElementById('settings-menu').style.display='flex';checkBackupReminder()" class="icon-btn p-2 cursor-pointer"></div>
            </div>
            
            <div class="mb-4">
                <input id="global-search" type="text" placeholder="Search vault..." oninput="render()" class="w-full p-3 rounded-xl backdrop-blur-xl text-white placeholder-white/60 outline-none font-bold border border-white/20" style="background:rgba(0,0,0,0.4);text-shadow:1px 1px 2px rgba(0,0,0,0.5)">
            </div>
            
            <div class="flex gap-2 mb-6 flex-wrap">
                <button id="filter-all" onclick="toggleStatusFilter('all')" class="px-4 py-2 rounded-xl text-xs font-black uppercase border-2 transition-all" style="text-shadow:1px 1px 2px rgba(0,0,0,0.5)">All</button>
                <button id="filter-todo" onclick="toggleStatusFilter('to-do')" class="px-4 py-2 rounded-xl text-xs font-black uppercase border-2 transition-all" style="text-shadow:1px 1px 2px rgba(0,0,0,0.5)">To-Do</button>
                <button id="filter-progress" onclick="toggleStatusFilter('in-progress')" class="px-4 py-2 rounded-xl text-xs font-black uppercase border-2 transition-all" style="text-shadow:1px 1px 2px rgba(0,0,0,0.5)">In Progress</button>
                <button id="filter-done" onclick="toggleStatusFilter('done')" class="px-4 py-2 rounded-xl text-xs font-black uppercase border-2 transition-all" style="text-shadow:1px 1px 2px rgba(0,0,0,0.5)">Done</button>
            </div>
            
            <div class="backdrop-blur-xl p-6 rounded-2xl mb-6 border border-white/10" style="background:var(--glass)">
                <div class="relative mb-3" style="z-index:10000">
                    <input id="title" type="text" autocomplete="off" placeholder="Enter Title or Paste URL..." oninput="debounceSearch()" onpaste="handlePaste(event)" onkeydown="handleEnterKey(event)" style="background-color:rgba(0,0,0,0.6);border:1px solid rgba(255,255,255,0.2);padding:1rem;border-radius:0.75rem;color:white;width:100%;outline:none;font-weight:bold;text-shadow:1px 1px 2px rgba(0,0,0,0.5)" class="placeholder-white/60">
                    <div id=